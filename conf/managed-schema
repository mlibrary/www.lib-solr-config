<?xml version="1.0" encoding="UTF-8" ?>
<!--
  MLibrary solr schema 7.3.0

Versioning: x.y.z
  x: match this to the major version of Drupal that we're using.
  y: increment this and set z to 0 when we change the types.
  z: increment this when we change the fields.

  Do update the name="" attribute for the schema tag with this version number.
  Do not change the version="" attribute for the schema tag with this version number.

Types:
  Boolean:
    boolean:        true/false.

  Numeric:
    tlong:          integer values.
    tfloat:         floating point values.

  Date:
    tdate:          dates.

  String:
    string:         basic strings.
    string_sort:    specially processed strings for sorting
                    (omits the initial article where possible).
    string_sort_english: specially processed strings for sorting
                         (omits the initial article for English where possible).
    string_url:     specially processed strings for storing urls.
    string_initial: just the first character of the string.
    string_initial_english: just the first character of the string, English articles removed.
    string_stdnum:  specially processed strings for storing isbns and issns.
                    Stolen from Mirlyn.
  Text:
    text:           fully processed text field.
    text_unstemmed: partially processed text field (everything but the stemmer).

  Spatial:
    None:  But should we need them read here: http://wiki.apache.org/solr/SpatialSearch

Fields:

  access_856_3:
    type:        string
    multivalued: yes
    used by:     ejournals
    used for:    MARC data field 856 subfield 3.  The coverage note on an ejournal.

  access_type:
    type:        string
    multivalued: yes
    used by:     ejournals, hathitrust, searchtools
    used for:    An encoding of the access type (W: free, K: authenticated, ...).

  access_url:
    type:        string_url
    multivalued: yes
    used by:     ejournals,searchtools
    used for:    storing the url of a resource

  all_titles:
    type:        text
    multivalued: yes
    used by:     everything
    used for:    searching titles and alt titles at the same time.

  all_titles_unstemmed:
    type:        text_unstemmed
    multivalued: yes
    used by:     everything
    used for:    searching unstemmed versions of titles for higher relevance.

  alt:
    type:        text
    multivalued: yes
    used by:     ejournals, hathitrust, drupal
    used for:    alternative titles.

  ancestor_name:
    type:        string
    multivalued: yes
    used by:     ejournals, drupal
    used for:    ejournals: top-level high level browse categories. drupal: Something vocabulary/govdocs related.

  ancestor_tid:
    type:        tlong
    multivalued: yes
    used by:     ejournals
    used for:    top-level high level browse categories.

  author_initial:
    type:        string_initial
    multivalued: no
    used by:     hathitrust, libguides
    used for:    alphabetical browse by author

  author_s:
    type:        string
    multivalued: no
    used by:     libguides
    used for:    exact matches on the author's name.

  author:
    type:        text
    multivalued: no
    used by:     hathitrust, libguides
    used for:    text matches on the author's name.

  author_unstemmed:
    type:        text_unstemmed
    multivalued: no
    used by:     hathitrust, libguides
    used for:    unstemmed text matches on the author's name.

    availability_start:
    type:        tdate
    multivalued: no
    used by:     searchtools
    used for:    Database available beginning on this date.

  availability_end:
    type:        tdate
    multivalued: no
    used by:     searchtools
    used for:    Database no longer available on this date.

  coauthor_initial:
    type:        string_initial
    multivalued: no
    used by:     hathitrust, libguides
    used for:    alphabetical browse by coauthor

  coauthor_s:
    type:        string
    multivalued: no
    used by:     libguides
    used for:    exact matches on the coauthor's name.

  coauthor:
    type:        text
    multivalued: no
    used by:     hathitrust, libguides
    used for:    text matches on the coauthor's name.

  coauthor_unstemmed:
    type:        text_unstemmed
    multivalued: no
    used by:     hathitrust, libguides
    used for:    unstemmed text matches on the coauthor's name.

  body:
    type:        text
    multivalued: no
    used by:     drupal, searchtools
    used for:    the main content of the document.

  boost:
    type:        tfloat
    multivalued: no
    used by:     drupal (as indexed by nutch)
    used for:    nothing as far as I know, it's one of the default fields, but we could hypotheticallcally boost document relevance with this field.

  cache:
    type:        string
    multivalued: no
    used by:     drupal (as indexed by nutch)
    used for:    nothing as far as I know, it's one of the default fields, but we could hypothetically cache some data or object here.

  category:
    type:        string
    multivalued: yes
    used by:     searchtools, drupal
    used for:    Searchtools: Database type. Drupal: Unit type.

  created:
    type:        tdate
    multivalued: no
    used by:     drupal
    used for:    The last-update timestamp for drupal content.

  changed:
    type:        tdate
    multivalued: no
    used by:     drupal
    used for:    The last-update timestamp for drupal content.

  comment_count:
    type:        tlong
    multivalued: no
    used by:     drupal
    used for:    Reporting the number of comments on a node.

  content:
    type:        text
    multivalued: no
    used by:     ejournals, staff, libguides, drupal, searchtools
    used for:    This is our catch-all search text and metadata field.

  content_unstemmed:
    type:        text_unstemmed
    multivalued: no
    used by:     ejournals, staff, libguides, drupal, searchtools
    used for:    The unstemmed version of our catch-all search text and metadata field.

  creator_text:
    type:        text
    multivalued: no
    used by:     searchtools
    used for:    Text for indicating who created the database. Sometimes who created the database record.

  creator:
    type:        string
    multivalued: no
    used by:     searchtools
    used for:    String for indicating who created the database. Sometimes who created the database record.

  date_to_unpublish:
    type:        tdate
    multivalued: no
    used by:     searchtools
    used for:    Unpublish the Database on this date.

  digest:
    type:        string
    multivalued: no
    used by:     drupal
    used for:    Content indexed by nutch have this property, it's an md5 digest of the content.

  edition:
    type:        string
    multivalued: no
    used by:     ejournals, hathitrust
    used for:    The edition string for the record.

  email:
    type:        string
    multivalued: yes
    used by:     drupal-users
    used for:    email addresses of library staff.

  end_date:
    type:        tdate
    multivalued: no
    used by:     hathitrust
    used for:    The end-date for a serial publication.

  hash:
    type:        string
    multivalued: no
    used by:     drupal
    used for:    Another field added by nutch when indexing content.

  holdings:
    type:        text
    multivalued: false
    used by:     ejournals
    used for:    A statement on our holdings coverage for an ejournal record.

  host:
    type:        string_url
    multivalued: no
    used by:     drupal
    used for:    Another field added by nutch when indexing content.

  icon:
    type:        string
    multivalued: yes
    used by:     searchtools
    used for:    Indicating the access type via an icon.

  id:
    type:        string
    multivalued: no
    used by:     everything
    used for:    This is the single id for solr, all documents must have one.

  important:
    type:        boolean
    multivalued: no
    used by:     drupal
    used for:    boosting relevance ranking of documents where important=true.

  imprint:
    type:        string
    multivalued: no
    used by:     hathitrust
    used for:    The imprint string.

  isbn:
    type:        string
    multivalued: yes
    used by:     hathitrust
    used for:    ISBN for a hathitrust record.

  issn:
    type:        string_stdnum
    multivalued: yes
    used by:     ejournals, hathitrust
    used for:    ISSN for a journal in hathitrust/ejournals.

  job_title:
    type:        text
    multivalued: no
    used by:     drupal-users
    used for:    Storing job titles for drupal users.

  keywords:
    type:        text
    multivalued: no
    used by:     drupal, searchtools
    used for:    free-text keywords to affect search relevance.

  language:
    type:        string
    multivalued: no
    used by:     drupal
    used for:    Recording a node's language setting.  I don't think we use this anywhere.

  last_comment_or_change:
    type:        tdate
    multivalued: no
    used by:     drupal
    used for:    The date of the last comment or change, for sorting content by recency.

  lccn:
    type:        string
    multivalued: yes
    used by:     hathitrust
    used for:    Library of Congress Card Catalog Number (i.e. not the Call Number).
                 A unique identifier supplied by LC.

  lc:
    type:        string
    multivalued: yes
    used by:     hathitrust
    used for:    Library of Congress Call Number

  location:
    type:        string
    multivalued: yes
    used by:     hathitrust
    used for:    Identifying the originating institution for this.

  mobile:
    type:        boolean
    multivalued: no
    used by:     searchtools
    used for:    Indicating whether a resource has a mobile interface.

  mobile_url:
    type:        string_url
    multivalued: no
    used by:     searchtools
    used for:    A url to the mobile version of a resource. Not used yet, but planned on.

  moderate:
    type:        boolean
    multivalued: no
    used by:     drupal
    used for:    Indicating the moderate flag value for the node.

  name:
    type:        string
    multivalued: no
    used by:     drupal-users
    used for:    uniqnames/friend-account user names stored by drupal.  Right now
                 we only index library staff roles, so it'd better just be uniqnames.

  new:
    type:        boolean
    multivalued: no
    used by:     ejournals, searchtools
    used for:    Indicating newly acquired or cataloged records.

  new_until:
    type:        tdate
    multivalued: no
    used by:     searchtools
    used for:    Display a record as new until this date.

  nid:
    type:        tlong
    multivalued: no
    used by:     drupal, searchtools, instruction-cafe
    used for:    The node id for a drupal node.

  oclc:
    type:        string
    multivalued: yes
    used by:     hathitrust
    used for:    Unique identifier for books supplied by OCLC.

  og_groups_both:
    type:        string
    multivalued: yes
    used by:     drupal, ejournals, searchtools, hathitrust
    used for:    drupal: Full-text of an OG name.
                 ejournals, searchtools: High Level Browse category.
                 hathitrust: Company (group) who did the scanning.

  og_groups:
    type:        tlong
    multivalued: yes
    used by:     drupal, searchtools
    used for:    drupal: id of the OG for this node.
                 searchtools: term id for HLB categories associated with this node.

  path_alias:
    type:        string
    multivalued: no
    used by:     drupal, searchtools
    used for:    The url_alias for this node.

  path:
    type:        string
    multivalued: no
    used by:     drupal
    used for:    The path for this node (node/NID).

  phone:
    type:        string
    multivalued: no
    used by:     drupal-users
    used for:    Phone numbers of library staff.

  profile_picture:
    type:        text
    multivalued: no
    used by:     drupal-users
    used for:    Linking to profile photos.

  promote:
    type:        boolean
    multivalued: no
    used by:     drupal
    used for:    Indicating whether "promote to front page" was requested.

  publisher_text:
    type:        text
    multivalued: no
    used by:     instruction-cafe
    used for:    searching the institution for an article.

  publisher:
    type:        string
    multivalued: no
    used by:     searchtools, instruction-cafe
    used for:    searchtools: identifying the institution
                 instruction-cafe: browsing the institution

  pvc_text:
    type:        text
    multivalued: yes
    used by:     searchtools
    used for:    searching across publisher (p), vendor (v), creator (c) in one field.

  pvc:
    type:        string
    multivalued: yes
    used by:     searchtools
    used for:    searching across publisher (p), vendor (v), creator (c) in one field.

  segment:
    type:        string
    multivalued: no
    used by:     drupal
    used for:    created by nutch (our filesystem indexing), drupal (encodes version).

  site:
    type:        string
    multivalued: no
    used by:     drupal
    used for:    created by nutch (our filesystem indexing).

  sname:
    type:        string
    multivalued: no
    used by:     drupal
    used for:    string names for exact matches.

  sort_name:
    type:        string_sort
    multivalued: no
    used by:     drupal
    used for:    sort_name for sorting on names.

  sort_title:
    type:        string_sort
    multivalued: no
    used by:     everything
    used for:    a sortable title.

  sort_english_title:
    A D6 version of sort_title_english.  This name will exist for a period during transition.
  sort_title_english:
    type:        string_sort_english
    multivalued: no
    used by:     searchtools
    used for:    a sortable title with English articles ignored.

  source:
    type:        string
    multivalued: no
    used by:     everything
    used for:    indicates the source or type of record we're looking at.

  special_message:
    type:        text
    multivalued: no
    used by:     searchtools
    used for:    a special message about databases to show users

  special_message_start:
    type:        tdate
    multivalued: no
    used by:     searchtools
    used for:    Display a special message beginning on this date.

    special_message_summary:
    type:        text
    multivalued: no
    used by:     searchtools
    used for:    a summary of the special message about databases to show users

  special_message_end:
    type:        tdate
    multivalued: no
    used by:     searchtools
    used for:    Display a special message until this date.

    start_date:
    type:        tdate
    multivalued: no
    used by:     hathitrust
    used for:    the start date for a serial.

  status:
    type:        boolean
    multivalued: no
    used by:     drupal, hathitrust, searchtools, libguides, instruction-cafe
    used for:    drupal, searchtools, libguides, instruction-cafe: published status
                 hathitrust: pd status

  sticky:
    type:        boolean
    multivalued: no
    used by:     drupal
    used for:    the sticky field for the drupal node table.

  stitle:
    type:        string_sort
    multivalued: yes
    used by:     everything
    used for:    sortable title field

  subject:
    type:        text
    multivalued: no
    used by:     ejournals, searchtools, libguides
    used for:    HLB subjects

  tags:
    type:        string
    multivalued: yes
    used by:     ejournals, searchtools, libguides, drupal, instruction-cafe
    used for:    freeform tags, and/or HLB categories

  taxonomy_name:
    type:        string
    multivalued: yes
    used by:     drupal, drupal-users
    used for:    Drupal taxonomy associations

  teaser_stripped:
    type:        text
    multivalued: no
    used by:     drupal
    used for:    HTML-stripped teaser-text (html must be stripped before sending to Solr).

  teaser:
    type:        text
    multivalued: no
    used by:     drupal
    used for:    Teaser text for the drupal node.

  text:
    type:        text
    multivalued: no
    used by:     drupal
    used for:    free-form text, generally similar to what would be in the body of a node.

  tictoc_id:
    type:        tlong
    multivalued: no
    used by:     ejournals
    used for:    id for this journal under tictocs.

  tid:
    type:        string
    multivalued: yes
    used by:     drupal, searchtools, ejournals, drupal-users
    used for:    taxonomy term ids applicable to this content.

  timestamp:
    type:        tdate
    multivalued: no
    used by:     everything
    used for:    timestamp of the last index time.

  title_initial:
    type:        string_initial
    multivalued: no
    used by:     everything
    used for:    index the initial letter of the title for an alphabetical browse

  title_initial_english:
    type:        string_initial_english
    multivalued: no
    used by:     everything
    used for:    index the initial letter of the title for an alphabetical browse in English.

  title:
    type:        text
    multivalued: no
    used by:     everything
    used for:    Nearly everything has to have a title and a body.

  title_unstemmed:
    type:        text_unstemmed
    multivalued: no
    used by:     everything
    used for:    Searching titles unstemmed for higher precision.

  tnid:
    type:        tlong
    multivalued: no
    used by:     drupal
    used for:    ?

  toc_url:
    type:        string_url
    multivalued: no
    used by:     ejournals
    used for:    table of contents url

  topic_path:
    type:        string
    multivalued: yes
    used by:     ejournals
    used for:    the pipe-delimited path of HLB topics applicable to this resource.

  translate:
    type:        string
    multivalued: no
    used by:     drupal
    used for:    ?

  tstamp:
    type:        tlong
    multivalued: no
    used by:     everything
    used for:    A legacy timestamp field.

  type_name:
    type:        string
    multivalued: no
    used by:     drupal
    used for:    recording the name of a content type.

  type:
    type:        string
    multivalued: no
    used by:     drupal, searchtools, libguides, instruction-cafe
    used for:    drupal: content type
                 searchtools: database type
                 libguides: guide type
                 instruction-cafe: contribution type

  uid:
    type:        tlong
    multivalued: no
    used by:     drupal, drupal-users, hathitrust
    used for:    drupal: the uid of the node author
                 drupal-users: the uid of the user
                 hathitrust: the hathitrust id of the record.

  uniqname:
    type:        string
    multivalued: no
    used by:     drupal-users
    used for:    drupal-users: the uniqname of the user

  url:
    type:        string_url
    multivalued: no
    used by:     ejournals, staff, drupal, searchtools
    used for:    ejournals: the url for the mirlyn record
                 staff: the url for the page that was indexed.
                 drupal: the url for the filesystem content that was indexed.
                 searchtools: the native link to the resource.

  vendor_text:
    type:        text
    multivalued: no
    used by:     searchtools
    used for:    indicating the vendor from which we license the database in question.

  vendor:
    type:        string
    multivalued: no
    used by:     searchtools
    used for:    indicating the vendor from which we license the database in question.

  vid:
    type:        tlong
    multivalued: yes
    used by:     drupal
    used for:    indicating the version id for a node.



-->
<!--
 Licensed to the Apache Software Foundation (ASF) under one or more
 contributor license agreements.  See the NOTICE file distributed with
 this work for additional information regarding copyright ownership.
 The ASF licenses this file to You under the Apache License, Version 2.0
 (the "License"); you may not use this file except in compliance with
 the License.  You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
-->

<!--
 This is the Solr schema file. This file should be named "schema.xml" and
 should be in the conf directory under the solr home
 (i.e. ./solr/conf/schema.xml by default)
 or located where the classloader for the Solr webapp can find it.

 This example schema is the recommended starting point for users.
 It should be kept correct and concise, usable out-of-the-box.

 For more information, on how to customize this file, please see
 http://wiki.apache.org/solr/SchemaXml

 PERFORMANCE NOTE: this schema includes many optional features and should not
 be used for benchmarking.  To improve performance one could
  - set stored="false" for all fields possible (esp large fields) when you
    only need to search on the field but don't need to return the original
    value.
  - set indexed="false" if you don't need to search on the field, but only
    return the field as a result of searching on other indexed fields.
  - remove all unneeded copyField statements
  - for best index size and searching performance, set "index" to false
    for all general text fields, use copyField to copy them to the
    catchall "text" field, and use that for searching.
  - For maximum indexing performance, use the StreamingUpdateSolrServer
    java client.
  - Remember to run the JVM in server mode, and use a higher logging level
    that avoids logging every request
-->

<schema name="mlibrary-website-7.3.0" version="1.6">
  <!-- attribute "name" is the name of this schema and is only used for display purposes.
       Applications should change this to reflect the nature of the search collection.
       version="1.4" is Solr's version number for the schema syntax and semantics.  It should
       not normally be changed by applications.
       1.0: multiValued attribute did not exist, all fields are multiValued by nature
       1.1: multiValued attribute introduced, false by default
       1.2: omitTermFreqAndPositions attribute introduced, true by default except for text fields.
       1.3: removed optional field compress feature
       1.4: default auto-phrase (QueryParser feature) to off
     -->

    <!-- field type definitions. The "name" attribute is
       just a label to be used by field definitions.  The "class"
       attribute and any other attributes determine the real
       behavior of the fieldType.
         Class names starting with "solr" refer to java classes in the
       org.apache.solr.analysis package.
    -->

    <!-- Borrowed from Mirlyn/Vufind -->
    <fieldType name="text_leftjustified" class="solr.TextField" positionIncrementGap="1000">
      <analyzer>
        <!-- <charFilter class="solr.ICUNormalizer2CharFilterFactory"/> -->
        <!-- <charFilter class="solr.MappingCharFilterFactory" mapping=""schema/token_fixing_charfilter.txt"/> -->
        <!-- Eliminate leading and trailing punctuation and add on a prefix -->
        <charFilter class="solr.PatternReplaceCharFilterFactory"
                    pattern="^\p{Punct}*(.*?)\p{Punct}*$" replacement="aaaaa$1" />
        <!-- <tokenizer class="solr.ICUTokenizerFactory"/> -->
        <tokenizer  class="solr.StandardTokenizerFactory"/>
        <!-- <filter class="solr.ICUFoldingFilterFactory"/> -->
        <filter class="solr.CJKWidthFilterFactory"/>
        <filter class="solr.CJKBigramFilterFactory"/>
        <filter class="solr.DecimalDigitFilterFactory"/>
        <filter class="solr.KeywordRepeatFilterFactory"/>
        <filter class="solr.KStemFilterFactory"/>
        <filter class="solr.RemoveDuplicatesTokenFilterFactory"/>
      </analyzer>
    </fieldType>

    <fieldType name="text_ngram" class="solr.TextField" positionIncrementGap="1000">
      <analyzer type="index">
        <charFilter class="solr.MappingCharFilterFactory" mapping="mapping-ISOLatin1Accent.txt" />
        <charFilter class="solr.MappingCharFilterFactory" mapping="mapping-FoldToASCII.txt" />
        <tokenizer class="solr.KeywordTokenizerFactory"/>
        <filter class="solr.LowerCaseFilterFactory"/>
        <filter class="solr.EdgeNGramFilterFactory" minGramSize="1" maxGramSize="40"/>
      </analyzer>
      <analyzer type="query">
        <charFilter class="solr.MappingCharFilterFactory" mapping="mapping-ISOLatin1Accent.txt" />
        <charFilter class="solr.MappingCharFilterFactory" mapping="mapping-FoldToASCII.txt" />
        <tokenizer class="solr.KeywordTokenizerFactory"/>
        <filter class="solr.LowerCaseFilterFactory"/>
      </analyzer>
    </fieldType>

    <!-- Borrowed from Mirlyn/Vufind -->
    <fieldType name="squashed_prefix" class="solr.TextField" positionIncrementGap="1000">
      <analyzer type="index">
        <!-- <charFilter class="solr.ICUNormalizer2CharFilterFactory"/> -->
        <tokenizer class="solr.KeywordTokenizerFactory"/>
        <!-- <filter class="solr.ICUFoldingFilterFactory"/> -->
        <filter class="solr.DecimalDigitFilterFactory"/>
        <!-- Take out all non-alphanumeric except .-->
        <filter class="solr.PatternReplaceFilterFactory"
                pattern="([^\p{Alnum}.])" replacement="" replace="all"
                />
        <!-- Take out all the dots except those surrounded by digits -->
        <filter class="solr.PatternReplaceFilterFactory"
                pattern="(\p{Digit})\.(\p{Digit})" replacement="$1‡$2" replace="all" />
        <filter class="solr.PatternReplaceFilterFactory"
                pattern="\." replacement="" replace="all" />
        <filter class="solr.PatternReplaceFilterFactory"
                pattern="‡" replacement="." replace="all" />

        <filter class="solr.EdgeNGramFilterFactory" minGramSize="1" maxGramSize="40"/>
      </analyzer>
      <!-- For query, don't do the edgengrams -->
      <analyzer type="query">
        <!-- <charFilter class="solr.ICUNormalizer2CharFilterFactory"/> -->
        <tokenizer class="solr.KeywordTokenizerFactory"/>
        <!-- <filter class="solr.ICUFoldingFilterFactory"/> -->
        <filter class="solr.DecimalDigitFilterFactory"/>
        <!-- Take out all non-alphanumeric except .-->
        <filter class="solr.PatternReplaceFilterFactory"
                pattern="([^\p{Alnum}.])" replacement="" replace="all"
                />
        <!-- Take out all the dots except those surrounded by digits -->
        <filter class="solr.PatternReplaceFilterFactory"
                pattern="(\p{Digit})\.(\p{Digit})" replacement="$1‡$2" replace="all" />
        <filter class="solr.PatternReplaceFilterFactory"
                pattern="\." replacement="" replace="all" />
        <filter class="solr.PatternReplaceFilterFactory"
                pattern="‡" replacement="." replace="all" />
      </analyzer>
    </fieldType>


    <!-- boolean type: "true" or "false" -->
    <fieldType name="boolean" class="solr.BoolField" sortMissingLast="true" omitNorms="true"/>

    <!-- The StrField type is not analyzed, but indexed/stored verbatim. -->
    <fieldType name="string" class="solr.StrField" sortMissingLast="true" omitNorms="true"/>

    <fieldType name="long" class="solr.TrieLongField" precisionStep="0" positionIncrementGap="0"/>

    <fieldType name="string_sort" class="solr.TextField" sortMissingLast="true" omitNorms="true">
      <analyzer type="index">
        <charFilter class="solr.MappingCharFilterFactory" mapping="mapping-ISOLatin1Accent.txt" />
        <charFilter class="solr.MappingCharFilterFactory" mapping="mapping-FoldToASCII.txt" />
        <tokenizer class="solr.KeywordTokenizerFactory" />
        <filter class="solr.TrimFilterFactory" />
        <filter class="solr.LowerCaseFilterFactory" />

        <!-- Remove likely articles from the start of a sortable string.  It could be any language. -->
        <!-- Arabic Transliteration: Al- -->
        <filter class="solr.PatternReplaceFilterFactory" pattern="^[Aa][Ll]-" replacement="" replace="all" />
        <!-- English: A ; Portuguese A, O -->
        <filter class="solr.PatternReplaceFilterFactory" pattern="^[AaOo] ([^ ][^ ])" replacement="$1" replace="all" />
        <!-- English: An, The -->
        <filter class="solr.PatternReplaceFilterFactory" pattern="^([Aa][Nn]|[Tt][Hh][Ee]) " replacement="" replace="all" />
        <!-- Swedish: De, Den, Det -->
        <filter class="solr.PatternReplaceFilterFactory" pattern="^([Dd][Ee]|[Dd][Ee][Nn]|[Dd][Ee][Tt]) " replacement="" replace="all" />
        <!-- Dutch: Een, De, Het -->
        <filter class="solr.PatternReplaceFilterFactory" pattern="^([Dd][Ee]|[Hh][Ee][Tt]|[Ee][Ee][Nn]) " replacement="" replace="all" />
        <!-- Swedish/Dutch? D' ;  French L' ; Italian L' -->
        <filter class="solr.PatternReplaceFilterFactory" pattern="^[DdLl]'" replacement="" replace="all" />
        <!-- German: Das, Der, Die -->
        <filter class="solr.PatternReplaceFilterFactory" pattern="^([Dd][Aa][Ss]|[Dd][Ee][Rr]|[Dd][Ii][Ee]) " replacement="" replace="all" />
        <!-- Italian: Gli, Lo, Il, La, uno -->
        <filter class="solr.PatternReplaceFilterFactory" pattern="^([Gg][Ll][Ii]|[Ii][Ll]|[Ll]['AaOo]|[Uu][Nn][Oo]) " replacement="" replace="all" />
        <!-- French: Le, La, Les, Un, Une, des-->
        <filter class="solr.PatternReplaceFilterFactory" pattern="^([Ll]['AaEe]|[Uu][Nn]|[Uu][Nn][Ee]|[LlDd][Ee][Ss]) " replacement="" replace="all" />
        <!-- Portuguese Os, As, Um, Uns, Uma, Umas -->
        <filter class="solr.PatternReplaceFilterFactory" pattern="^([AaOo][Ss]|[Uu][Mm]|[Uu][Nn][Ss]|[Uu][Mm][Aa]|[Uu][Mm][Aa][Ss]) " replacement="" replace="all" />
        <!-- Spanish: El, La, Los, Las, Un, Una, Unos, Unas-->
        <filter class="solr.PatternReplaceFilterFactory" pattern="^([Ee][Ll]|[Ll][Aa]|[Ll][OoAa][Ss]|[Uu][Nn]|[Uu][Nn][OoAa]|[Uu][Nn][OoAa][Ss]) " replacement="" replace="all" />
        <filter class="solr.PatternReplaceFilterFactory" pattern="(\p{Space}|\p{Punct})+$" replacement="" replace="all" />
        <filter class="solr.PatternReplaceFilterFactory" pattern="^(\p{Space}|\p{Punct})+" replacement="" replace="all" />
      </analyzer>
    </fieldType>

    <fieldType name="string_sort_english" class="solr.TextField" sortMissingLast="true" omitNorms="true">
      <analyzer type="index">
        <charFilter class="solr.MappingCharFilterFactory" mapping="mapping-ISOLatin1Accent.txt" />
        <charFilter class="solr.MappingCharFilterFactory" mapping="mapping-FoldToASCII.txt" />
        <tokenizer class="solr.KeywordTokenizerFactory" />
        <filter class="solr.TrimFilterFactory" />
        <filter class="solr.LowerCaseFilterFactory" />

        <!-- Remove likely articles from the start of a sortable string.  It could be any language. -->
        <!-- English: A  -->
        <filter class="solr.PatternReplaceFilterFactory" pattern="^[AaOo] ([^ ][^ ])" replacement="$1" replace="all" />
        <!-- English: An, The -->
        <filter class="solr.PatternReplaceFilterFactory" pattern="^([Aa][Nn]|[Tt][Hh][Ee]) " replacement="" replace="all" />
        <filter class="solr.PatternReplaceFilterFactory" pattern="(\p{Space}|\p{Punct})+$" replacement="" replace="all" />
        <filter class="solr.PatternReplaceFilterFactory" pattern="^(\p{Space}|\p{Punct})+" replacement="" replace="all" />
      </analyzer>
    </fieldType>

    <fieldType name="string_url" class="solr.TextField" sortMissingLast="true" omitNorms="true">
       <analyzer>
        <tokenizer class="solr.StandardTokenizerFactory"/>
        <filter class="solr.WordDelimiterFilterFactory" generateWordParts="1" generateNumberParts="1"/>
        <filter class="solr.RemoveDuplicatesTokenFilterFactory"/> -->
      </analyzer>
    </fieldType>

    <fieldType name="string_initial" class="solr.TextField" sortMissingLast="true" omitNorms="true">
      <analyzer type="index">
        <charFilter class="solr.MappingCharFilterFactory" mapping="mapping-ISOLatin1Accent.txt" />
        <charFilter class="solr.MappingCharFilterFactory" mapping="mapping-FoldToASCII.txt" />
        <tokenizer  class="solr.KeywordTokenizerFactory" />
        <filter     class="solr.TrimFilterFactory" />
        <filter     class="solr.LowerCaseFilterFactory" />
        <!-- Remove likely articles from the start of a sortable string.  It could be any language. -->
        <!-- Arabic Transliteration: Al- -->
        <filter class="solr.PatternReplaceFilterFactory" pattern="^[Aa][Ll]-" replacement="" replace="all" />
        <!-- English: A ; Portuguese A, O -->
        <filter class="solr.PatternReplaceFilterFactory" pattern="^[AaOo] ([^ ][^ ])" replacement="$1" replace="all" />
        <!-- English: An, The -->
        <filter class="solr.PatternReplaceFilterFactory" pattern="^([Aa][Nn]|[Tt][Hh][Ee]) " replacement="" replace="all" />
        <!-- Swedish: De, Den, Det -->
        <filter class="solr.PatternReplaceFilterFactory" pattern="^([Dd][Ee]|[Dd][Ee][Nn]|[Dd][Ee][Tt]) " replacement="" replace="all" />
        <!-- Dutch: Een, De, Het -->
        <filter class="solr.PatternReplaceFilterFactory" pattern="^([Dd][Ee]|[Hh][Ee][Tt]|[Ee][Ee][Nn]) " replacement="" replace="all" />
        <!-- Swedish/Dutch? D' ;  French L' ; Italian L' -->
        <filter class="solr.PatternReplaceFilterFactory" pattern="^[DdLl]'" replacement="" replace="all" />
        <!-- German: Das, Der, Die -->
        <filter class="solr.PatternReplaceFilterFactory" pattern="^([Dd][Aa][Ss]|[Dd][Ee][Rr]|[Dd][Ii][Ee]) " replacement="" replace="all" />
        <!-- Italian: Gli, Lo, Il, La, uno -->
        <filter class="solr.PatternReplaceFilterFactory" pattern="^([Gg][Ll][Ii]|[Ii][Ll]|[Ll]['AaOo]|[Uu][Nn][Oo]) " replacement="" replace="all" />
        <!-- French: Le, La, Les, Un, Une, des-->
        <filter class="solr.PatternReplaceFilterFactory" pattern="^([Ll]['AaEe]|[Uu][Nn]|[Uu][Nn][Ee]|[LlDd][Ee][Ss]) " replacement="" replace="all" />
        <!-- Portuguese Os, As, Um, Uns, Uma, Umas -->
        <filter class="solr.PatternReplaceFilterFactory" pattern="^([AaOo][Ss]|[Uu][Mm]|[Uu][Nn][Ss]|[Uu][Mm][Aa]|[Uu][Mm][Aa][Ss]) " replacement="" replace="all" />
        <!-- Spanish: El, La, Los, Las, Un, Una, Unos, Unas-->
        <filter class="solr.PatternReplaceFilterFactory" pattern="^([Ee][Ll]|[Ll][Aa]|[Ll][OoAa][Ss]|[Uu][Nn]|[Uu][Nn][OoAa]|[Uu][Nn][OoAa][Ss]) " replacement="" replace="all" />
        <filter class="solr.PatternReplaceFilterFactory" pattern="(\p{Space}|\p{Punct})+$" replacement="" replace="all" />
        <filter class="solr.PatternReplaceFilterFactory" pattern="^\p{Space}+" replacement="" replace="all" />
        <filter class="solr.PatternReplaceFilterFactory" pattern="^(.).*$" replacement="$1" replace="all" />
        <filter class="solr.PatternReplaceFilterFactory" pattern="^$" replacement="Other" replace="all" />
        <filter class="solr.PatternReplaceFilterFactory" pattern="^[^A-Za-z0-9]" replacement="Other" replace="all" />
        <filter class="solr.PatternReplaceFilterFactory" pattern="^[0-9]" replacement="0-9" replace="all" />
        <!-- <filter class="solr.EdgeNGramFilterFactory" minGramSize="1" maxGramSize="1" /> -->
      </analyzer>
			<analyzer type="query">
        <tokenizer  class="solr.KeywordTokenizerFactory" />
			</analyzer>
    </fieldType>

    <fieldType name="string_initial_english" class="solr.TextField" sortMissingLast="true" omitNorms="true">
      <analyzer>
        <charFilter class="solr.MappingCharFilterFactory" mapping="mapping-ISOLatin1Accent.txt" />
        <charFilter class="solr.MappingCharFilterFactory" mapping="mapping-FoldToASCII.txt" />
        <tokenizer  class="solr.KeywordTokenizerFactory" />
        <filter     class="solr.TrimFilterFactory" />
        <filter     class="solr.LowerCaseFilterFactory" />
        <!-- Remove likely articles from the start of a sortable string.  It could be any language. -->
        <!-- English: A -->
        <filter class="solr.PatternReplaceFilterFactory" pattern="^[Aa] ([^ ][^ ])" replacement="$1" replace="all" />
        <!-- English: An, The -->
        <filter class="solr.PatternReplaceFilterFactory" pattern="^([Aa][Nn]|[Tt][Hh][Ee]) " replacement="" replace="all" />
        <filter class="solr.PatternReplaceFilterFactory" pattern="(\p{Space}|\p{Punct})+$" replacement="" replace="all" />
        <filter class="solr.PatternReplaceFilterFactory" pattern="^(\p{Space}|\p{Punct})+" replacement="" replace="all" />
        <filter class="solr.PatternReplaceFilterFactory" pattern="^(.).*$" replacement="$1" replace="all" />
        <filter class="solr.PatternReplaceFilterFactory" pattern="^[^a-z0-9]" replacement="Other" replace="all" />
        <filter class="solr.PatternReplaceFilterFactory" pattern="^[0-9]" replacement="0-9" replace="all" />
        <!-- <filter class="solr.EdgeNGramFilterFactory" minGramSize="1" maxGramSize="1" /> -->
      </analyzer>
    </fieldType>

    <fieldType name="string_stdnum" class="solr.TextField" sortMissingLast="true" omitNorms="true">
      <analyzer>
        <tokenizer class="solr.KeywordTokenizerFactory"/>
        <filter class="solr.LowerCaseFilterFactory"/>
        <filter class="solr.PatternReplaceFilterFactory" pattern="^[\s\-\.]*([\d\.\-]+x?).*$" replacement="$1"/>
        <filter class="solr.PatternReplaceFilterFactory" pattern="[\-\.]" replacement="" replace="all"/>
      </analyzer>
    </fieldType>

    <!-- The optional sortMissingLast and sortMissingFirst attributes are
         currently supported on types that are sorted internally as strings
         and on numeric types.
	       This includes "string","boolean", and, as of 3.5 (and 4.x),
	       int, float, long, date, double, including the "Trie" variants.
       - If sortMissingLast="true", then a sort on this field will cause documents
         without the field to come after documents with the field,
         regardless of the requested sort order (asc or desc).
       - If sortMissingFirst="true", then a sort on this field will cause documents
         without the field to come before documents with the field,
         regardless of the requested sort order.
       - If sortMissingLast="false" and sortMissingFirst="false" (the default),
         then default lucene sorting will be used which places docs without the
         field first in an ascending sort and last in a descending sort.
    -->

    <!--
     Numeric field types that index each value at various levels of precision
     to accelerate range queries when the number of values between the range
     endpoints is large. See the javadoc for NumericRangeQuery for internal
     implementation details.

     Smaller precisionStep values (specified in bits) will lead to more tokens
     indexed per value, slightly larger index size, and faster range queries.
     A precisionStep of 0 disables indexing at different precision levels.
    -->
    <fieldType name="tlong" class="solr.TrieLongField" precisionStep="8" omitNorms="true" positionIncrementGap="0"/>
    <fieldType name="tfloat" class="solr.TrieFloatField" precisionStep="8" omitNorms="true" positionIncrementGap="0"/>

    <!-- The format for this date field is of the form 1995-12-31T23:59:59Z, and
         is a more restricted form of the canonical representation of dateTime
         http://www.w3.org/TR/xmlschema-2/#dateTime
         The trailing "Z" designates UTC time and is mandatory.
         Optional fractional seconds are allowed: 1995-12-31T23:59:59.999Z
         All other components are mandatory.

         Expressions can also be used to denote calculations that should be
         performed relative to "NOW" to determine the value, ie...

               NOW/HOUR
                  ... Round to the start of the current hour
               NOW-1DAY
                  ... Exactly 1 day prior to now
               NOW/DAY+6MONTHS+3DAYS
                  ... 6 months and 3 days in the future from the start of
                      the current day

         Consult the DateField javadocs for more information.

         Note: For faster range queries, consider the tdate type
      -->

    <!-- A Trie based date field for faster date range queries and date faceting. -->
    <fieldType name="tdate" class="solr.TrieDateField" omitNorms="true" precisionStep="6" positionIncrementGap="0"/>

    <!-- solr.TextField allows the specification of custom text analyzers
         specified as a tokenizer and a list of token filters. Different
         analyzers may be specified for indexing and querying.

         The optional positionIncrementGap puts space between multiple fields of
         this type on the same document, with the purpose of preventing false phrase
         matching across fields.

         For more info on customizing your analyzer chain, please see
         http://wiki.apache.org/solr/AnalyzersTokenizersTokenFilters
     -->

    <fieldType name="text" class="solr.TextField" positionIncrementGap="100">
      <analyzer type="index">
        <charFilter class="solr.HTMLStripCharFilterFactory" />
        <charFilter class="solr.MappingCharFilterFactory" mapping="mapping-ISOLatin1Accent.txt" />
        <charFilter class="solr.MappingCharFilterFactory" mapping="mapping-FoldToASCII.txt" />
        <charFilter class="solr.MappingCharFilterFactory" mapping="character_and_symbol_substitutions.txt"/>

        <tokenizer  class="solr.StandardTokenizerFactory"/>
        <filter     class="solr.WordDelimiterFilterFactory" generateWordParts="1" generateNumberParts="1" catenateWords="1" catenateNumbers="1" catenateAll="0"/>
        <filter     class="solr.LowerCaseFilterFactory"/>
        <filter     class="solr.StemmerOverrideFilterFactory" dictionary="stemdict.txt" />
        <filter     class="solr.PorterStemFilterFactory" />
        <filter     class="solr.RemoveDuplicatesTokenFilterFactory"/>
      </analyzer>
      <analyzer type="query">
        <charFilter class="solr.HTMLStripCharFilterFactory" />
        <charFilter class="solr.MappingCharFilterFactory" mapping="mapping-ISOLatin1Accent.txt" />
        <charFilter class="solr.MappingCharFilterFactory" mapping="mapping-FoldToASCII.txt" />
                <charFilter class="solr.MappingCharFilterFactory" mapping="character_and_symbol_substitutions.txt"/>

        <tokenizer  class="solr.StandardTokenizerFactory" />
        <filter     class="solr.SynonymFilterFactory" synonyms="synonyms.txt" ignoreCase="true" expand="true" />
        <filter     class="solr.StopFilterFactory" ignoreCase="true" words="stopwords.txt" />
        <filter     class="solr.WordDelimiterFilterFactory" generateWordParts="1" generateNumberParts="1" catenateWords="1" catenateNumbers="1" catenateAll="0"/>
        <filter     class="solr.LowerCaseFilterFactory" />
        <filter     class="solr.StemmerOverrideFilterFactory" dictionary="stemdict.txt" />
        <filter     class="solr.PorterStemFilterFactory" />
        <filter     class="solr.RemoveDuplicatesTokenFilterFactory"/>
      </analyzer>
    </fieldType>

    <fieldType name="text_unstemmed" class="solr.TextField" positionIncrementGap="100">
      <analyzer type="index">
        <charFilter class="solr.HTMLStripCharFilterFactory" />
        <charFilter class="solr.MappingCharFilterFactory" mapping="mapping-ISOLatin1Accent.txt" />
        <charFilter class="solr.MappingCharFilterFactory" mapping="mapping-FoldToASCII.txt" />
        <charFilter class="solr.MappingCharFilterFactory" mapping="character_and_symbol_substitutions.txt"/>
        <tokenizer  class="solr.StandardTokenizerFactory"/>
        <filter     class="solr.WordDelimiterFilterFactory" generateWordParts="1" generateNumberParts="1" catenateWords="1" catenateNumbers="1" catenateAll="0"/>
        <filter     class="solr.LowerCaseFilterFactory"/>
        <filter     class="solr.RemoveDuplicatesTokenFilterFactory"/>
      </analyzer>
      <analyzer type="query">
        <charFilter class="solr.HTMLStripCharFilterFactory" />
        <charFilter class="solr.MappingCharFilterFactory" mapping="mapping-ISOLatin1Accent.txt" />
        <charFilter class="solr.MappingCharFilterFactory" mapping="mapping-FoldToASCII.txt" />
        <charFilter class="solr.MappingCharFilterFactory" mapping="character_and_symbol_substitutions.txt"/>
        <tokenizer  class="solr.StandardTokenizerFactory" />
        <filter     class="solr.SynonymFilterFactory" synonyms="synonyms.txt" ignoreCase="true" expand="true" />
        <filter     class="solr.StopFilterFactory" ignoreCase="true" words="stopwords.txt" />
        <filter     class="solr.WordDelimiterFilterFactory" generateWordParts="1" generateNumberParts="1" catenateWords="1" catenateNumbers="1" catenateAll="0"/>
        <filter     class="solr.LowerCaseFilterFactory" />
        <filter     class="solr.RemoveDuplicatesTokenFilterFactory"/>
      </analyzer>
    </fieldType>

    <!-- a left-anchored phrase field -->
    <fieldType name="text_l" class="solr.TextField" positionIncrementGap="1000">
      <analyzer>
        <charFilter class="solr.PatternReplaceCharFilterFactory" pattern="^\s*(.*)\s*$" replacement="AAAA $1" />
        <charFilter class="solr.HTMLStripCharFilterFactory" />
        <charFilter class="solr.MappingCharFilterFactory" mapping="mapping-ISOLatin1Accent.txt" />
        <charFilter class="solr.MappingCharFilterFactory" mapping="mapping-FoldToASCII.txt" />
        <charFilter class="solr.MappingCharFilterFactory" mapping="character_and_symbol_substitutions.txt"/>

        <tokenizer  class="solr.StandardTokenizerFactory"/>
        <filter     class="solr.StopFilterFactory" ignoreCase="true" words="stopwords.txt" />
        <filter     class="solr.WordDelimiterFilterFactory" generateWordParts="1" generateNumberParts="1" catenateWords="1" catenateNumbers="1" catenateAll="0"/>
        <filter     class="solr.LowerCaseFilterFactory"/>
        <filter     class="solr.StemmerOverrideFilterFactory" dictionary="stemdict.txt" />
        <filter     class="solr.PorterStemFilterFactory" />
        <filter     class="solr.RemoveDuplicatesTokenFilterFactory"/>
      </analyzer>
    </fieldType>

    <!-- a left- and right-anchored phrase field -->
    <fieldType name="text_lr" class="solr.TextField" positionIncrementGap="1000">
      <analyzer>
        <charFilter class="solr.PatternReplaceCharFilterFactory" pattern="^\s*(.*)\s*$" replacement="AAAA $1 ZZZZ" />
        <charFilter class="solr.HTMLStripCharFilterFactory" />
        <charFilter class="solr.MappingCharFilterFactory" mapping="mapping-ISOLatin1Accent.txt" />
        <charFilter class="solr.MappingCharFilterFactory" mapping="mapping-FoldToASCII.txt" />
        <charFilter class="solr.MappingCharFilterFactory" mapping="character_and_symbol_substitutions.txt"/>

        <tokenizer  class="solr.StandardTokenizerFactory"/>
        <filter     class="solr.StopFilterFactory" ignoreCase="true" words="stopwords.txt" />
        <filter     class="solr.WordDelimiterFilterFactory" generateWordParts="1" generateNumberParts="1" catenateWords="1" catenateNumbers="1" catenateAll="0"/>
        <filter     class="solr.LowerCaseFilterFactory"/>
        <filter     class="solr.StemmerOverrideFilterFactory" dictionary="stemdict.txt" />
        <filter     class="solr.PorterStemFilterFactory" />
        <filter     class="solr.RemoveDuplicatesTokenFilterFactory"/>
      </analyzer>
    </fieldType>


    <!-- Specialized types for library data -->

    <fieldType name="isbn" class="solr.TextField">
        <analyzer>
            <tokenizer class="solr.PatternTokenizerFactory" pattern="[;,]\s*" />
            <!-- <filter class="edu.umich.lib.solr_filters.ISBNNormalizerFilterFactory"/> -->
            <filter class="solr.RemoveDuplicatesTokenFilterFactory"/>
            <filter class="solr.LengthFilterFactory" min="13" max="13" />
    </analyzer>
    </fieldType>

    <fieldType name="lccn" class="solr.TextField">
         <analyzer>
             <tokenizer class="solr.KeywordTokenizerFactory"/>
             <!-- <filter class="edu.umich.lib.solr_filters.LCCNNormalizerFilterFactory"/> -->
         </analyzer>
    </fieldType>

    <fieldType name="lc_callnumber_sortable" class="solr.TextField">
        <analyzer>
            <tokenizer class="solr.KeywordTokenizerFactory"/>
            <!-- <filter class="edu.umich.lib.solr_filters.LCCallNumberNormalizerFilterFactory"/> -->
        </analyzer>
    </fieldType>


    <fieldType name="lc_callnumber_searchable" class="solr.TextField"  docValues="false">
      <analyzer type="index">
        <tokenizer class="solr.KeywordTokenizerFactory"/>
        <!-- <filter class="edu.umich.lib.solr_filters.LCCallNumberNormalizerFilterFactory"/> -->
          <filter class="solr.EdgeNGramFilterFactory" maxGramSize="40"/>
      </analyzer>
      <analyzer type="query">
        <tokenizer class="solr.KeywordTokenizerFactory"/>
        <!-- <filter class="edu.umich.lib.solr_filters.LCCallNumberNormalizerFilterFactory"/> -->
      </analyzer>
    </fieldType>


    <!-- since fields of this type are by default not stored or indexed,
         any data added to them will be ignored outright.  -->
    <fieldtype name="ignored" stored="false" indexed="false" multiValued="true" class="solr.StrField" />


   <!-- If you remove this field, you must _also_ disable the update log in solrconfig.xml
      or Solr won't start. _version_ and update log are required for SolrCloud
   -->
   <field name="_version_" type="long" indexed="true" stored="true"/>

   <!-- points to the root document of a block of nested documents. Required for nested
      document support, may be removed otherwise
   -->
   <field name="_root_" type="string" indexed="true" stored="false"/>


    <field name="id"                     type="string"         indexed="true"  stored="true" />
    <field name="apachesolr_id"          type="string"         indexed="true"  stored="true" />
    <field name="entity_id"              type="string"         indexed="true"  stored="true" />
    <field name="entity_type"            type="string"         indexed="true"  stored="true" />
    <field name="bundle"                 type="string"         indexed="true"  stored="true" />
    <field name="sm_parent_entity_bundle" type="string"        indexed="true"  stored="true" />
    <field name="sm_parent_document_id"  type="string"         indexed="true"  stored="true" />
    <field name="og_groups"              type="tlong"          indexed="true"  stored="true" multiValued="true"/>
    <field name="og_groups_both"         type="string"         indexed="true"  stored="true" multiValued="true"/>
    <field name="tags"                   type="string"         indexed="true"  stored="true" multiValued="true"/>
    <field name="url"                    type="string_url"     indexed="true"  stored="true"/>
    <field name="access_url"             type="string_url"     indexed="true"  stored="true" multiValued="true"/>
    <field name="access_type"            type="string"         indexed="true"  stored="true" multiValued="true"/>
    <field name="access_856_3"           type="string"         indexed="true"  stored="true" multiValued="true"/>
    <field name="segment"                type="string"         indexed="true"  stored="true"/>
    <field name="digest"                 type="string"         indexed="false" stored="true"/>
    <field name="host"                   type="string_url"     indexed="true"  stored="false"/>
    <field name="site"                   type="string"         indexed="true" stored="true"/>
    <field name="hash"                   type="string"         indexed="false" stored="true"/>
    <field name="title"                  type="text"           indexed="true"  stored="true" termVectors="true" omitNorms="true"/>
    <field name="title_initial"          type="string_initial" indexed="true"  stored="false"/>
    <field name="title_initial_english"  type="string_initial_english" indexed="true"  stored="false"/>
    <field name="title_unstemmed"        type="text_unstemmed" indexed="true"  stored="true" termVectors="true" omitNorms="true"/>
    <field name="all_titles"             type="text"           indexed="true"  stored="true"
           termVectors="true"            omitNorms="true"      multiValued="true" />
    <field name="all_titles_unstemmed"   type="text_unstemmed" indexed="true"  stored="true"
           termVectors="true"            omitNorms="true"      multiValued="true" />
    <field name="stitle"                 type="string_sort"    indexed="true"  stored="true"
           termVectors="true"            omitNorms="true"      multiValued="true" />
    <field name="alt"                    type="text"           indexed="true"  stored="true"
           termVectors="true"            omitNorms="true"      multiValued="true"/>
    <field name="sort_title"             type="string_sort"    indexed="true"  stored="true"/>
    <field name="sort_title_english"     type="string_sort_english" indexed="true"  stored="true"/>
    <field name="sort_english_title"     type="string_sort_english" indexed="true"  stored="true"/>
    <field name="tstamp"                 type="tlong"          indexed="false" stored="true"/>
    <field name="duration"               type="tlong"          indexed="false" stored="true"/>
    <field name="duration_string"        type="string"         indexed="false" stored="true"/>
    <field name="boost"                  type="tfloat"         indexed="false" stored="true"/>
    <field name="cache"                  type="string"         indexed="false" stored="true"/>
    <field name="content"                type="text"           indexed="true"  stored="true"/>
    <field name="content_unstemmed"      type="text_unstemmed" indexed="true"  stored="true" multiValued="true"/>
    <field name="subject"                type="text"           indexed="true"  stored="true"/>
    <field name="holdings"               type="text"           indexed="true"  stored="true"/>
    <field name="author"                 type="text"           indexed="true"  stored="true"/>
    <field name="author_s"               type="string"         indexed="true"  stored="true"/>
    <field name="author_unstemmed"       type="text_unstemmed" indexed="true"  stored="true"/>
    <field name="author_initial"         type="string_initial" indexed="true"  stored="false"/>
    <field name="coauthor"               type="text"           indexed="true"  stored="true"  multiValued="true"/>
    <field name="coauthor_s"             type="string"         indexed="true"  stored="true"  multiValued="true"/>
    <field name="coauthor_unstemmed"     type="text_unstemmed" indexed="true"  stored="true"  multiValued="true"/>
    <field name="coauthor_initial"       type="string_initial" indexed="true"  stored="false" multiValued="true"/>
    <field name="publisher"              type="string"         indexed="true"  stored="true"/>
    <field name="publisher_text"         type="text"           indexed="true"  stored="true"/>
    <field name="vendor"                 type="string"         indexed="true"  stored="true"/>
    <field name="vendor_text"            type="text"           indexed="true"  stored="true"/>
    <field name="creator"                type="string"         indexed="true"  stored="true"/>
    <field name="creator_text"           type="text"           indexed="true"  stored="true"/>
    <!-- Publisher - Vendor - Creator -->
    <field name="pvc"                    type="string"         indexed="true"  stored="true" multiValued="true"/>
    <field name="pvc_text"               type="text"           indexed="true"  stored="true" multiValued="true"/>
    <field name="edition"                type="string"         indexed="true"  stored="true"/>
    <field name="location"               type="string"         indexed="true"  stored="true"  multiValued="true"/>
    <field name="imprint"                type="string"         indexed="true"  stored="true"/>
    <field name="issn"                   type="string_stdnum"  indexed="true"  stored="true"  multiValued="true"/>
    <field name="lccn"                   type="lccn"         indexed="true"  stored="true"  multiValued="true"/>
    <field name="isbn"                   type="isbn"         indexed="true"  stored="true"  multiValued="true"/>
    <field name="oclc"                   type="string"         indexed="true"  stored="true"  multiValued="true"/>
    <field name="lc"                     type="string"         indexed="true"  stored="true"  multiValued="true"/>
    <field name="toc_url"                type="string_url"     indexed="true"  stored="true"/>
    <field name="tictoc_id"              type="tlong"          indexed="true"  stored="true"/>
    <field name="topic_path"             type="string"         indexed="true"  stored="true"  multiValued="true"/>
    <field name="category"               type="string"         indexed="true"  stored="true"  multiValued="true"/>
    <field name="profile_picture"        type="text"           indexed="true"  stored="true" termVectors="true" omitNorms="true"/>
    <field name="job_title"              type="text"           indexed="true"  stored="true" termVectors="true" omitNorms="true"/>
    <field name="new"                    type="boolean"        indexed="true"  stored="true"/>
    <field name="new_until"              type="tdate"          indexed="true"  stored="true"/>
    <field name="date_to_unpublish"      type="tdate"          indexed="true"  stored="true"/>
    <field name="special_message_start"  type="tdate"          indexed="true"  stored="true"/>
    <field name="special_message_end"    type="tdate"          indexed="true"  stored="true"/>
    <field name="availability_start"     type="tdate"          indexed="true"  stored="true"/>
    <field name="availability_end"       type="tdate"          indexed="true"  stored="true"/>
    <field name="special_message"        type="text"           indexed="true"  stored="true" termVectors="true"/>
    <field name="special_message_summary" type="text"           indexed="true"  stored="true" termVectors="true"/>
    <field name="mobile"                 type="boolean"        indexed="true"  stored="true"/>
    <field name="mobile_url"             type="string_url"     indexed="true"  stored="true"/>
    <field name="icon"                   type="string"         indexed="true"  stored="true" multiValued="true"/>
    <field name="phone"                  type="string"         indexed="true"  stored="true" multiValued="true"/>
    <field name="uniqname"               type="string"         indexed="true"  stored="true" />
    <field name="email"                  type="string"         indexed="true"  stored="true" multiValued="true"/>
    <field name="body"                   type="text"           indexed="true"  stored="true" termVectors="true"/>
    <field name="teaser"                 type="text"           indexed="true"  stored="true" termVectors="true"/>
    <field name="teaser_html"            type="text"           indexed="true"  stored="true" termVectors="true"/>
    <field name="teaser_stripped"        type="text"           indexed="true"  stored="true" termVectors="true"/>
    <field name="keywords"               type="text"           indexed="true"  stored="true" termVectors="true"/>
    <field name="type"                   type="string"         indexed="true"  stored="true"/>
    <field name="type_name"              type="string"         indexed="true"  stored="true"/>
    <field name="path"                   type="string"         indexed="true"  stored="true"/>
    <field name="path_alias"             type="string"         indexed="true"  stored="true" termVectors="true"/>
    <field name="uid"                    type="tlong"          indexed="true"  stored="true"/>
    <field name="name"                   type="string"         indexed="true"  stored="true" termVectors="true"/>
    <field name="sname"                  type="string"         indexed="true"  stored="false"/>
    <field name="sort_name"              type="string_sort"    indexed="true"  stored="false"/>
    <field name="created"                type="tdate"          indexed="true"  stored="true"/>
    <field name="changed"                type="tdate"          indexed="true"  stored="true"/>
    <field name="nid"                    type="tlong"          indexed="true"  stored="true"/>
    <field name="last_comment_or_change" type="tdate"          indexed="true"  stored="true"/>
    <field name="status"                 type="boolean"        indexed="true"  stored="true"/>
    <field name="important"              type="boolean"        indexed="true"  stored="true"/>
    <field name="promote"                type="boolean"        indexed="true"  stored="true"/>
    <field name="moderate"               type="boolean"        indexed="true"  stored="true"/>
    <field name="sticky"                 type="boolean"        indexed="true"  stored="true"/>
    <field name="tnid"                   type="tlong"          indexed="true"  stored="true"/>
    <field name="translate"              type="boolean"        indexed="true"  stored="true"/>
    <field name="language"               type="string"         indexed="true"  stored="true"/>
    <field name="comment_count"          type="tlong"          indexed="true"  stored="true"/>
    <field name="tid"                    type="string"         indexed="true"  stored="true" multiValued="true"/>
    <field name="vid"                    type="tlong"          indexed="true"  stored="true" multiValued="true"/>
    <field name="taxonomy_name"          type="string"         indexed="true"  stored="true" multiValued="true"/>
    <field name="ancestor_name"          type="string"         indexed="true"  stored="true" multiValued="true"/>
    <field name="ancestor_tid"           type="tlong"          indexed="true"  stored="true" multiValued="true"/>
    <field name="text"                   type="text"           indexed="true"  stored="false"/>
    <field name="callnosearch"           type="lc_callnumber_searchable" indexed="true" stored="true" multiValued="true"/>

    <!-- Here, default is used to create a "timestamp" field indicating
         When each document was indexed.
      -->
    <field name="timestamp"              type="tdate"          indexed="true"  stored="true" default="NOW" multiValued="false"/>
    <field name="start_date"             type="tdate"          indexed="true"  stored="true" multiValued="false"/>
    <field name="end_date"               type="tdate"          indexed="true"  stored="true" multiValued="false"/>
    <field name="source"                 type="string"         indexed="true"  stored="true" default="drupal"/>

    <dynamicField name="im_vid_*"        type="tlong"          indexed="true"  stored="true" multiValued="true"/>
    <dynamicField name="sm_vid_*"        type="string"         indexed="true"  stored="true" multiValued="true"/>
    <dynamicField name="isfield*"        type="tlong"          indexed="true"  stored="true" multiValued="false"/>
    <dynamicField name="imfield*"        type="tlong"          indexed="true"  stored="true" multiValued="true"/>
    <dynamicField name="smfield*"        type="string"         indexed="true"  stored="true" multiValued="true"/>
    <dynamicField name="tmfield*"        type="text"           indexed="true"  stored="true" multiValued="true"/>
    <dynamicField name="ssfield*"        type="string"         indexed="true"  stored="true" multiValued="false"/>
    <dynamicField name="tsfield*"        type="text"           indexed="true"  stored="true" multiValued="false"/>
    <dynamicField name="dsfield*"        type="tdate"          indexed="true"  stored="true" multiValued="false"/>
    <dynamicField name="dmfield*"        type="tdate"          indexed="true"  stored="true" multiValued="true"/>
    <dynamicField name="bmfield*"        type="boolean"        indexed="true"  stored="true" multiValued="true"/>
    <dynamicField name="bsfield*"        type="boolean"        indexed="true"  stored="true" multiValued="false"/>
    <dynamicField name="psfield*"        type="tfloat"         indexed="true"  stored="true" multiValued="false"/>
    <dynamicField name="pmfield*"        type="tfloat"         indexed="true"  stored="true" multiValued="true"/>
    <dynamicField name="*_l"             type="text_l"         indexed="true"  stored="true" multiValued="true"/>
    <dynamicField name="*_lj"            type="text_leftjustified" indexed="true"  stored="true" multiValued="true"/>
    <dynamicField name="*_ngram"         type="text_ngram"     indexed="true"  stored="true" multiValued="true"/>



    <!-- uncomment the following to ignore any fields that don't already match an existing
         field name or dynamic field, rather than reporting them as an error.
         alternately, change the type="ignored" to some other type e.g. "text" if you want
         unknown fields indexed and/or stored by default -->
    <dynamicField name="*" type="ignored" multiValued="true"/>

 <!-- Field to use to determine and enforce document uniqueness.
      Unless this field is marked with required="false", it will be a required field
   -->
  <uniqueKey>id</uniqueKey>

  <copyField source="content"    dest="content_unstemmed"/>
  <copyField source="name"       dest="sname" />
  <copyField source="name"       dest="sort_name" />
  <copyField source="ts_vid_*"   dest="taxonomy_names" />
  <copyField source="text"       dest="content"/>
  <copyField source="text"       dest="content_unstemmed"/>
  <copyField source="title"      dest="title_initial"/>
  <copyField source="title"      dest="title_initial_english"/>
  <copyField source="title"      dest="title_unstemmed"/>
  <copyField source="title"      dest="all_titles"/>
  <copyField source="alt"        dest="all_titles"/>
  <copyField source="title"      dest="all_titles_unstemmed"/>
  <copyField source="alt"        dest="all_titles_unstemmed"/>
  <copyField source="alt"        dest="title_l"/>
  <copyField source="title"      dest="title_l"/>
  <copyField source="alt"        dest="title_lj"/>
  <copyField source="title"      dest="title_lj"/>
  <copyField source="title"      dest="title_ngram"/>
  <copyField source="sort_title" dest="sort_title_english"/>
  <copyField source="sort_title" dest="sort_english_title"/>
  <copyField source="author"     dest="author_unstemmed"/>
  <copyField source="author"     dest="author_s"/>
  <copyField source="author"     dest="author_initial"/>
  <copyField source="coauthor"   dest="coauthor_unstemmed"/>
  <copyField source="coauthor"   dest="coauthor_s"/>
  <copyField source="coauthor"   dest="coauthor_initial"/>
  <copyField source="publisher"  dest="publisher_text"/>
  <copyField source="vendor"     dest="vendor_text"/>
  <copyField source="creator"    dest="creator_text"/>
  <copyField source="publisher"  dest="pvc" />
  <copyField source="vendor"     dest="pvc" />
  <copyField source="creator"    dest="pvc" />
  <copyField source="publisher"  dest="pvc_text" />
  <copyField source="vendor"     dest="pvc_text" />
  <copyField source="creator"    dest="pvc_text" />
  <copyField source="smfield_call_number" dest="callnosearch" />
  <copyField source="smfield_call_number" dest="callnosearch_l" />


 <!-- field for the QueryParser to use when an explicit fieldname is absent -->
 <defaultSearchField>content</defaultSearchField>

 <!-- SolrQueryParser configuration: defaultOperator="AND|OR" -->
 <solrQueryParser defaultOperator="AND"/>

  <!-- copyField commands copy one field to another at the time a document
        is added to the index.  It's used either to index the same field differently,
        or to add multiple fields to the same field for easier/faster searching.  -->


   <!-- Above, multiple source fields are copied to the [text] field.
	  Another way to map multiple source fields to the same
	  destination field is to use the dynamic field syntax.
	  copyField also supports a maxChars to copy setting.  -->

   <!-- <copyField source="*_t" dest="text" maxChars="3000"/> -->

   <!-- copy name to alphaNameSort, a field designed for sorting by name -->
   <!-- <copyField source="name" dest="alphaNameSort"/> -->


 <!-- Similarity is the scoring routine for each document vs. a query.
      A custom similarity may be specified here, but the default is fine
      for most applications.  -->
 <!-- <similarity class="org.apache.lucene.search.DefaultSimilarity"/> -->
 <!-- ... OR ...
      Specify a SimilarityFactory class name implementation
      allowing parameters to be used.
 -->
 <!--
 <similarity class="com.example.solr.CustomSimilarityFactory">
   <str name="paramkey">param value</str>
 </similarity>
 -->


</schema>
